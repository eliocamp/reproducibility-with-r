---
title: "Extras"
# list or single layouts are possible
layout: single-series # list, list-sidebar, single-series
weight: 10
subtitle: "Things we like (but don't have time to cover)"
description: |
  Things we like (but don't have time to cover)
cascade:
  draft: false
  # list or single layouts are possible
  layout: single-series # list, list-sidebar, single-series
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<div id="parameterised-reports" class="section level2">
<h2>Parameterised reports</h2>
<p>Sometimes you need to re-do a report changing one variable that repeats over all the code, the best way to do this is through a parameterised report.</p>
<p>In the following example there is a plot of the price distribution for ideal diamonds.
If you want to change it to visualise the data for “fair” or “very good” cut diamonds, you will have to change the <code>filter(cut == "Ideal")</code> and hopefully you wont forget the plot title.</p>
<pre class="r"><code>library(dplyr)
library(ggplot2)

diamonds %&gt;% 
  filter(cut == &quot;Ideal&quot;) %&gt;% 
  ggplot(aes(color, price)) +
  geom_boxplot() +
  labs(title = &quot;Price distribution for ideal diamonds&quot;,
       x = &quot;Color&quot;,
       y = &quot;Price [US dollars]&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>In these situations you can create a parameterised report.
To generate a parameterised report you have to add an element called <code>params</code> to the YAML with the list of parameters (1 or more) and their default values. It is as if the R Markdown file were a big function with its arguments!</p>
<pre><code>params:
  this_cut: Ideal</code></pre>
<p>Then, in the R code you will have access to a variable called <code>params</code> which is a list containing the parameters and their values. To access the value of each parameter the <code>$</code> operator is used as follows:</p>
<pre class="r"><code>library(dplyr)
library(ggplot2)

diamonds %&gt;% 
  filter(cut == params$this_cut) %&gt;% 
  ggplot(aes(color, price)) +
  geom_boxplot() +
  labs(title = paste0(&quot;Price distribution for &quot;, params$this_cut, &quot; diamonds&quot;),
       x = &quot;Color&quot;,
       y = &quot;Price [US dollars]&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
